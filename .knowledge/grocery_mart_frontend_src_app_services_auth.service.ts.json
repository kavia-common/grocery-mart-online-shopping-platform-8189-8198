{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular service class 'AuthService' that manages user authentication, including login, registration, logout, and persisting user data in local storage.", "external_files": ["../models/types", "./api.service", "../utils/platform"], "external_methods": ["ApiService.login", "ApiService.register", "ApiService.setToken", "ApiService.clearToken", "safeStorage.getItem", "safeStorage.setItem", "safeStorage.removeItem"], "published": ["AuthService"], "classes": [{"name": "AuthService", "description": "Angular service managing authentication state, user session, and interaction with API and storage."}], "methods": [{"name": "loadUser", "description": "Loads the user data from storage during service initialization."}, {"name": "persist", "description": "Saves or removes user data in storage based on current user state."}, {"name": "observe", "description": "Returns an observable stream of the user state for components to subscribe."}, {"name": "current", "description": "Returns the current authenticated user synchronously."}, {"name": "login", "description": "Performs login via API, updates user state, token, and storage."}, {"name": "register", "description": "Performs user registration via API, updates user state, token, and storage."}, {"name": "logout", "description": "Clears authentication token and user data, effectively logging out."}, {"name": "isAuthenticated", "description": "Returns whether a user is currently authenticated."}], "calls": ["this.api.login", "this.api.register", "this.api.setToken", "this.api.clearToken", "safeStorage.getItem", "safeStorage.setItem", "safeStorage.removeItem"], "search-terms": ["AuthService", "Angular dependency injection", "BehaviorSubject", "local storage", "authentication token", "login", "logout", "register"], "state": 2, "file_id": 26, "knowledge_revision": 110, "git_revision": "", "revision_history": [{"54": ""}, {"110": ""}], "ctags": [{"_type": "tag", "name": "AuthService", "path": "/home/kavia/workspace/code-generation/grocery-mart-online-shopping-platform-8189-8198/grocery_mart_frontend/src/app/services/auth.service.ts", "pattern": "/^export class AuthService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "USER_KEY", "path": "/home/kavia/workspace/code-generation/grocery-mart-online-shopping-platform-8189-8198/grocery_mart_frontend/src/app/services/auth.service.ts", "pattern": "/^const USER_KEY = 'gm_user_v1';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/grocery-mart-online-shopping-platform-8189-8198/grocery_mart_frontend/src/app/services/auth.service.ts", "pattern": "/^  private api = inject(ApiService);$/", "language": "TypeScript", "kind": "property", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/grocery-mart-online-shopping-platform-8189-8198/grocery_mart_frontend/src/app/services/auth.service.ts", "pattern": "/^      const raw = safeStorage.getItem(USER_KEY);$/", "language": "TypeScript", "kind": "constant"}], "hash": "230487db455eb0dade2ae384d4c6c1ef", "format-version": 4, "code-base-name": "grocery_mart_frontend", "filename": "grocery_mart_frontend/src/app/services/auth.service.ts", "fields": [{"name": "private api = inject(ApiService);", "scope": "AuthService", "scopeKind": "class", "description": "unavailable"}]}